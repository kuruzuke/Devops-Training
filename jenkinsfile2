pipeline {
    agent any

    environment{
            // define environment variables here
            MY_ENV_VAR = 'main'
    }

    stages {
        stage('Checkout') {
            steps {
                 // your checkout logic
                 checkout([
                    $class: 'GitSCM',
                    branches: [[name: '*/main']],
                    userRemoteConfigs: [[url: 'https://github.com/kuruzuke/Devops-Training.git']],
                    extensions: [
                        [$class: 'CleanBeforeCheckout'], 
                        [$class: 'CloneOption', noTags: false, shallow: true, depth: 1]]
                 ])
	
             }
          }
      stage('Build') {
           steps {
              sh '''
                ls
              echo "In Build Step"
            '''
    }
  }
  stage('Test') {
    steps {
      sh 'echo "In Test Step"'
    }
  }
  stage('Deploy') {
    steps {
      sh 'echo "Value of the ENV Variable is ${MY_ENV_VAR}"'
    }
  }
}


    post {
        success {
             echo 'Pipeline succeeded!'
  }
          failure {
                  echo 'Pipeline failed!'
  }
}
}
